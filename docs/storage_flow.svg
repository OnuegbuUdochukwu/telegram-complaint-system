<svg xmlns="http://www.w3.org/2000/svg" width="960" height="360" viewBox="0 0 960 360">
  <style>
    .box { fill:#f5f5f5; stroke:#0f172a; stroke-width:1.5; }
    .arrow { stroke:#0f172a; stroke-width:1.5; marker-end:url(#arrowhead); }
    text { font-family: "Segoe UI", Arial, sans-serif; font-size:14px; fill:#0f172a; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0f172a" />
    </marker>
  </defs>
  <rect class="box" x="40" y="40" width="140" height="60" rx="8"/>
  <text x="110" y="75" text-anchor="middle">Telegram Bot</text>

  <rect class="box" x="240" y="40" width="160" height="60" rx="8"/>
  <text x="320" y="70" text-anchor="middle">FastAPI Backend</text>

  <rect class="box" x="480" y="40" width="140" height="60" rx="8"/>
  <text x="550" y="70" text-anchor="middle">S3 Bucket</text>

  <rect class="box" x="700" y="40" width="160" height="60" rx="8"/>
  <text x="780" y="70" text-anchor="middle">Celery Worker</text>

  <rect class="box" x="700" y="200" width="160" height="60" rx="8"/>
  <text x="780" y="235" text-anchor="middle">PostgreSQL</text>

  <rect class="box" x="480" y="200" width="140" height="60" rx="8"/>
  <text x="550" y="235" text-anchor="middle">SQS / Redis</text>

  <line class="arrow" x1="180" y1="70" x2="240" y2="70"/>
  <text x="210" y="60" text-anchor="middle">Presign</text>

  <line class="arrow" x1="400" y1="70" x2="480" y2="70"/>
  <text x="440" y="60" text-anchor="middle">PUT via URL</text>

  <line class="arrow" x1="400" y1="90" x2="240" y2="90"/>
  <text x="320" y="110" text-anchor="middle">Confirm metadata</text>

  <line class="arrow" x1="320" y1="100" x2="320" y2="200"/>
  <text x="330" y="150">enqueue</text>

  <line class="arrow" x1="320" y1="200" x2="480" y2="230"/>
  <line class="arrow" x1="620" y1="230" x2="700" y2="230"/>
  <text x="660" y="220" text-anchor="middle">process + update DB</text>

  <line class="arrow" x1="780" y1="200" x2="780" y2="100"/>
  <text x="790" y="150">thumbnail</text>
</svg>

